{% extends 'base.html' %}

{% block title %}Detalhes de {{ candidato.nome_completo|default:'Candidato' }}{% endblock %}

{% block content %}
<div class="details-header">
    <h1><i class="fa-solid fa-user-tie title-icon-alt"></i> Detalhes do Candidato</h1>
    <div class="header-actions">
        <a href="{% url 'core:upload_curriculo' %}" class="btn btn-secondary">
            <i class="fa-solid fa-arrow-left"></i> Voltar
        </a>
        <button type="button" class="btn btn-delete delete-trigger" data-url="{% url 'core:delete_candidato' candidato.id %}">
            <i class="fa-solid fa-trash-can"></i> Excluir
        </button>
    </div>
</div>

<div class="details-grid">
    <!-- Card de Informações Pessoais (sem alteração) -->
    <div class="detail-card">
        <h3><i class="fa-solid fa-id-card"></i> Informações Pessoais</h3>
        <p><strong>Nome:</strong> {{ candidato.nome_completo|default:"Não encontrado" }}</p>
        <p><strong>Email:</strong> <a href="mailto:{{ candidato.email }}">{{ candidato.email|default:"Não encontrado" }}</a></p>
        <p><strong>Telefone:</strong> {{ candidato.telefone|default:"Não encontrado" }}</p>
    </div>

    <!-- Card de Competências (sem alteração) -->
    <div class="detail-card">
        <h3><i class="fa-solid fa-star"></i> Competências</h3>
        {% if habilidades_lista %}
            <div class="skills-container">
                {% for habilidade in habilidades_lista %}
                    <span class="skill-tag">{{ habilidade }}</span>
                {% endfor %}
            </div>
        {% else %}
            <p class="empty-text">Nenhuma competência extraída.</p>
        {% endif %}
    </div>

    <!-- NOVO CARD: Formação Acadêmica -->
    <div class="detail-card full-width">
        <h3><i class="fa-solid fa-graduation-cap"></i> Formação Acadêmica</h3>
        {% if candidato.formacao_academica %}
            <div class="experience-text">
                <p>{{ candidato.formacao_academica|linebreaksbr }}</p>
            </div>
        {% else %}
            <p class="empty-text">Nenhuma formação acadêmica extraída.</p>
        {% endif %}
    </div>

    <!-- Card de Experiência Profissional (sem alteração) -->
    <div class="detail-card full-width">
        <h3><i class="fa-solid fa-briefcase"></i> Experiência Profissional</h3>
        {% if candidato.experiencia %}
            <div class="experience-text">
                <p>{{ candidato.experiencia|linebreaksbr }}</p>
            </div>
        {% else %}
            <p class="empty-text">Nenhuma experiência extraída.</p>
        {% endif %}
    </div>
    
    <!-- NOVO CARD: Idiomas -->
    <div class="detail-card full-width">
        <h3><i class="fa-solid fa-language"></i> Idiomas</h3>
        {% if candidato.idiomas %}
            <div class="experience-text">
                <p>{{ candidato.idiomas|linebreaksbr }}</p>
            </div>
        {% else %}
            <p class="empty-text">Nenhum idioma extraído.</p>
        {% endif %}
    </div>
</div>
{% endblock %}